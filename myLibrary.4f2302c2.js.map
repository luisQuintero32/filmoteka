{"mappings":"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","sources":["src/movieModal.js"],"sourcesContent":["import { API_KEY } from \"./config\";\n\nconst watchedList = JSON.parse(localStorage.getItem('watchedList')) || [];\nconst queueList = JSON.parse(localStorage.getItem('queueList')) || [];\n\nconst addToWatchedBtn = document.getElementById('add-to-watched--btn');\nconst addToQueueBtn = document.getElementById('add-to-queue--btn');\n\nconst btnCloseModal = document.getElementById('movie-modal--close-btn');\nconst modal = document.getElementById('movie-modal');\nbtnCloseModal.addEventListener('click', () => {\n    modal.style.display = 'none';\n});\n\nwindow.openModal = function (movie) {\n\n    const modal = document.getElementById('movie-modal');\n    modal.style.display = 'flex';\n    getMovieData(movie)\n\n}\n\nfunction getMovieData(movieID) {\n    const baseImageUrl = 'https://image.tmdb.org/t/p/';\n    const movieId = movieID; // ID de la pelÃ­cula que deseas buscar\n    const language = 'en'; // Idioma en el que deseas recibir la respuesta\n\n\n    const img = document.getElementById('movie-modal--image');\n    const title = document.getElementById('movie-modal-title');\n    const votes = document.getElementById('movie-modal-votes');\n    const popularity = document.getElementById('movie-modal-popularity');\n    const originalTitle = document.getElementById('movie-modal-original-title');\n    const genre = document.getElementById('movie-modal-genre');\n    const about = document.getElementById('movie-modal-about');\n    const watchedBtn = document.getElementById('add-to-watched--btn');\n    const queueBtn = document.getElementById('add-to-queue--btn');\n\n    const updatedQueueMoviesList = queueList.filter(movie => movie !== movieID);\n    const updatedWatchedMoviesList = watchedList.filter(movie => movie !== movieID);\n\n    if (updatedQueueMoviesList.length !== queueList.length) {\n        queueBtn.textContent = 'Remove from queue'\n        addToQueueBtn.addEventListener('click', () => {\n            removeFromQueue(updatedQueueMoviesList)\n        })\n    } else if ((!queueList || (updatedQueueMoviesList.length === queueList.length))) {\n        queueBtn.textContent = 'Add to queue'\n        addToQueueBtn.addEventListener('click', () => {\n            addToQueue()\n            removeFromWatched(watchedList.filter(movie => movie !== movieID));\n        })\n    }\n\n    if (updatedWatchedMoviesList.length !== watchedList.length) {\n        watchedBtn.textContent = 'Remove from watched'\n        addToWatchedBtn.addEventListener('click', () => {\n            removeFromWatched(updatedWatchedMoviesList)\n        })\n    } else if ((!watchedList) || (updatedWatchedMoviesList.length === watchedList.length)) {\n        watchedBtn.textContent = 'Add to watched'\n        addToWatchedBtn.addEventListener('click', () => {\n            addToWatched()\n            removeFromQueue(queueList.filter(movie => movie !== movieID))\n        })\n    }\n\n    fetch(`https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}&language=${language}`)\n        .then(response => response.json())\n        .then(data => {\n            img.src = `${baseImageUrl}w500${data.poster_path}`;\n            title.textContent = data.title;\n            votes.textContent = data.vote_average + ' / ' + data.vote_count;\n            popularity.textContent = data.popularity;\n            originalTitle.textContent = data.original_title;\n            // genre.textContent = data.genres;\n            const genreName = data.genres.map((genre) => genre.name).join(' | ');\n            // console.log(genreName);\n            genre.textContent = genreName;\n\n            about.textContent = data.overview;\n            addToWatchedBtn.value = data.id;\n            addToQueueBtn.value = data.id;\n        })\n        .catch(error => console.error(error));\n}\nfunction addToWatched() {\n    const watchedList = JSON.parse(localStorage.getItem('watchedList')) || [];\n\n    if (!watchedList) {\n        watchedList = JSON.stringify([addToWatchedBtn.value]);\n    } else {\n        const idExists = watchedList.includes(addToWatchedBtn.value)\n        if (!idExists) {\n            watchedList.push(addToWatchedBtn.value);\n            localStorage.setItem('watchedList', JSON.stringify(watchedList));\n        }\n    }\n\n    modal.style.display = 'none';\n    location.reload()\n}\nfunction addToQueue() {\n    if (!queueList) {\n        queueList = JSON.stringify([addToQueueBtn.value]);\n    } else {\n        const idExists = queueList.includes(addToQueueBtn.value)\n        if (!idExists) {\n            queueList.push(addToQueueBtn.value);\n            localStorage.setItem('queueList', JSON.stringify(queueList));\n        }\n    }\n    modal.style.display = 'none';\n    location.reload()\n}\n\nfunction removeFromQueue(updatedQueueMoviesList) {\n    localStorage.setItem('queueList', JSON.stringify(updatedQueueMoviesList));\n    modal.style.display = 'none';\n    location.reload()\n}\n\nfunction removeFromWatched(updatedWatchedMoviesList) {\n    localStorage.setItem('watchedList', JSON.stringify(updatedWatchedMoviesList));\n    modal.style.display = 'none';\n    location.reload()\n}\n\n\n\n\n\n"],"names":["$8lXr3","parcelRequire","$74926ecc0de983d7$var$watchedList","JSON","parse","localStorage","getItem","$74926ecc0de983d7$var$queueList","$74926ecc0de983d7$var$addToWatchedBtn","document","getElementById","$74926ecc0de983d7$var$addToQueueBtn","$74926ecc0de983d7$var$btnCloseModal","$74926ecc0de983d7$var$modal","$74926ecc0de983d7$var$removeFromQueue","updatedQueueMoviesList","setItem","stringify","style","display","location","reload","$74926ecc0de983d7$var$removeFromWatched","updatedWatchedMoviesList","addEventListener","window","openModal","movie","movieID","baseImageUrl","movieId","language","img","title","votes","popularity","originalTitle","genre1","about","watchedBtn","queueBtn","filter","length","textContent","includes","value","push","$74926ecc0de983d7$var$addToQueue","watchedList1","$74926ecc0de983d7$var$addToWatched","fetch","concat","API_KEY","then","response","json","data","src","poster_path","vote_average","vote_count","original_title","genreName","genres","map","genre","name","join","overview","id","catch","error","console","$74926ecc0de983d7$var$getMovieData"],"version":3,"file":"myLibrary.4f2302c2.js.map"}